(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/info/info"],{"0253":function(t,e,a){"use strict";var i=a("963d"),s=a.n(i);s.a},"321c":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("4106")),s=o(a("4efb")),n=o(a("8204"));function o(t){return t&&t.__esModule?t:{default:t}}var c={components:{Prompt:n.default,uniList:i.default,uniListItem:s.default},data:function(){return{nickname:t.getStorageSync("login_key").nickname,avatar:t.getStorageSync("login_key").avatar,userId:t.getStorageSync("login_key").userId,mobile:t.getStorageSync("login_key").mobile,promptVisible:!1}},onLoad:function(){},methods:{goBack:function(){t.navigateBack({})},tanchu:function(){this.promptVisible=!0},uploadNickname:function(e){var a=this,i=this;t.request({url:this.apiServer+"/user/nickname",method:"post",header:{"content-type":"application/x-www-form-urlencoded"},data:{userId:i.userId,nickname:e},success:function(s){console.log(s.data),i.nickname=e,a.promptVisible=!1,t.request({url:a.apiServer+"/user/"+t.getStorageSync("login_key").userId,method:"GET",data:{userId:i.userId},header:{"content-type":"application/json"},success:function(e){0==e.data.code&&t.setStorageSync("login_key",{userId:e.data.data.id,nickname:e.data.data.nickname,avatar:e.data.data.avatar,token:e.data.data.token,score:e.data.data.score,mobile:e.data.data.mobile,login:!0})}})}})},showActionSheet:function(){console.log("show");var e=this;t.showActionSheet({itemList:["拍照","从相册选择"],success:function(a){console.log("选中了第"+(a.tapIndex+1)+"个按钮"),0==a.tapIndex&&t.chooseImage({count:1,sourceType:["camera"],success:function(a){t.saveImageToPhotosAlbum({filePath:a.tempFilePaths[0],success:function(){console.log("save success"),t.uploadFile({url:"http://47.101.34.195:8080/api/user/avatar",filePath:a.tempFilePaths[0],name:"file",formData:{userId:e.userId},success:function(t){console.log(t.data),e.avatar=t.data},complete:function(){console.log("save"),t.request({url:"http://47.101.34.195:8080/api/user/"+t.getStorageSync("login_key").userId,method:"GET",data:{userId:e.userId},header:{"content-type":"application/json"},success:function(e){0==e.data.code&&t.setStorageSync("login_key",{userId:e.data.data.id,nickname:e.data.data.nickname,avatar:e.data.data.avatar,token:e.data.data.token,score:e.data.data.score,mobile:e.data.data.mobile,login:!0})}})}})}})}}),1==a.tapIndex&&t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(a){console.log(JSON.stringify(a.tempFilePaths)),t.uploadFile({url:"http://47.101.34.195:8080/api/user/avatar",filePath:a.tempFilePaths[0],name:"file",formData:{userId:e.userId},success:function(t){console.log(t.data),e.avatar=t.data},complete:function(){t.request({url:"http://47.101.34.195:8080/api/user/"+t.getStorageSync("login_key").userId,method:"GET",data:{userId:e.userId},header:{"content-type":"application/json"},success:function(e){0==e.data.code&&t.setStorageSync("login_key",{userId:e.data.data.id,nickname:e.data.data.nickname,avatar:e.data.data.avatar,token:e.data.data.token,score:e.data.data.score,mobile:e.data.data.mobile,login:!0})}})}})}})},fail:function(t){console.log(t.errMsg)}})}}};e.default=c}).call(this,a("6e42")["default"])},"43c0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{visible:{type:Boolean,default:!1,required:!0},title:{type:String,default:"提示"},mainColor:{type:String,default:"#e74a39"},defaultValue:{type:String}},mounted:function(){this.value=this.defaultValue},data:function(){return{value:""}},methods:{close:function(){this.$emit("update:visible",!1)}}};e.default=i},"5fe2":function(t,e,a){"use strict";a.r(e);var i=a("43c0"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"64b5":function(t,e,a){"use strict";var i=a("7a9e"),s=a.n(i);s.a},"7a9e":function(t,e,a){},8204:function(t,e,a){"use strict";a.r(e);var i=a("a958"),s=a("5fe2");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("0253");var o=a("2877"),c=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"cf29ae20",null);e["default"]=c.exports},"8e34":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"topper"}),a("view",{staticClass:"topper-box"},[a("view",{staticClass:"topper-box-list"},[a("view",{staticClass:"topper-box-item"},[a("image",{staticClass:"topper-sc-image",attrs:{src:"../../static/back.png",eventid:"5bf0fae3-0"},on:{tap:t.goBack}}),a("text",{staticClass:"topper-text"},[t._v("编辑个人资料")])])])]),a("view",{staticClass:"list-border-space"}),t._m(0),a("view",{staticClass:"list-border-space"}),a("view",{staticClass:"list"},[a("view",{staticClass:"list-item avatar_card",attrs:{eventid:"5bf0fae3-1"},on:{tap:t.showActionSheet}},[t._m(1),a("view",{staticClass:"info_right"},[a("image",{staticClass:"avatar_info",attrs:{src:t.avatar}})])]),a("view",{staticClass:"list-item ",attrs:{eventid:"5bf0fae3-2"},on:{tap:t.tanchu}},[t._m(2),a("view",{staticClass:"info_right"},[a("text",[t._v(t._s(t.nickname))])])]),t._m(3),t._m(4),t._m(5)]),t._m(6),a("view",{staticClass:"list-border-space"}),a("view",[a("uni-list",{attrs:{mpcomid:"5bf0fae3-3"}},[a("uni-list-item",{attrs:{title:t.mobile,"show-arrow":"false",thumb:"https://niit-soft1721-25.oss-cn-beijing.aliyuncs.com/avatar/88f5781c-4825-4fe6-ba32-feea97f511ac.png",mpcomid:"5bf0fae3-0"}}),a("uni-list-item",{staticClass:"bangding",attrs:{title:"未绑定","show-extra-icon":"true","show-arrow":"false","extra-icon":{color:"#b1b1b1",size:"22",type:"weibo"},mpcomid:"5bf0fae3-1"}}),a("uni-list-item",{staticClass:"bangding",attrs:{title:"未绑定","show-extra-icon":"true","show-arrow":"false","extra-icon":{color:"#b1b1b1",size:"22",type:"weixin"},mpcomid:"5bf0fae3-2"}})],1)],1),a("view",{staticClass:"list-border-space"}),t._m(7),a("view",{staticClass:"list-border-space"}),t._m(8),a("prompt",{attrs:{visible:t.promptVisible,title:"修改昵称",defaultValue:t.nickname,eventid:"5bf0fae3-3",mpcomid:"5bf0fae3-4"},on:{"update:visible":function(e){t.promptVisible=e},confirm:t.uploadNickname}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-space"},[a("text",[t._v("常规设置")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"info_left"},[a("text",[t._v("更改头像")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"info_left"},[a("text",[t._v("更改昵称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-item "},[a("view",{staticClass:"info_left"},[a("text",[t._v("更改性別")])]),a("view",{staticClass:"info_right"},[a("text",[t._v("男")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-item "},[a("view",{staticClass:"info_left"},[a("text",[t._v("更改生日")])]),a("view",{staticClass:"info_right"},[a("text",[t._v("1997-11-27")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-item bottom-item"},[a("view",{staticClass:"info_left"},[a("text",[t._v("更改主页")])]),a("view",{staticClass:"info_right"},[a("text")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-space"},[a("text",[t._v("绑定账号登陆简阅")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list-space"},[a("text")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"list"},[a("view",{staticClass:"list-item bottom-item"},[t._v("重置密码")])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"963d":function(t,e,a){},"96f8":function(t,e,a){"use strict";a("175f");var i=n(a("b0ce")),s=n(a("cd7a"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},a958:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("view",{staticClass:"prompt-box",attrs:{id:"back",eventid:"50d7597c-3"},on:{touchmove:!0}},[a("view",{staticClass:"prompt"},[a("view",{staticClass:"prompt-top"},[a("text",{staticClass:"prompt-title"},[t._v(t._s(t.title))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"prompt-input",attrs:{type:"text",eventid:"50d7597c-0"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),a("view",{staticClass:"prompt-button"},[a("view",{staticClass:"bottom-title",attrs:{eventid:"50d7597c-1"},on:{tap:t.close}},[a("text",[t._v("取消")])]),a("view",{staticClass:"bottom-title prompt-bottom",attrs:{eventid:"50d7597c-2"},on:{tap:function(e){t.$emit("confirm",t.value)}}},[a("text",[t._v("确定")])])])])]):t._e()},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},cd7a:function(t,e,a){"use strict";a.r(e);var i=a("8e34"),s=a("f929");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("64b5");var o=a("2877"),c=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},f929:function(t,e,a){"use strict";a.r(e);var i=a("321c"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a}},[["96f8","common/runtime","common/vendor"]]]);